{% extends "base.html" %}

{% block head %}
{{ super() }}
{% endblock %}

{% block title %}
{{ super() }}
add an image
{% endblock %}

{% block body %}
{{ super() }}

<div class='centered-page initially-hidden'>
	
	<!-- <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	  <div id='logotemp'>
	  	<span id='saltandpepper'>Salt&Pepper</span><span id='beta'> beta</span>
	  </div>
	</nav> -->

	<div class='container-fluid centered-page'>

		<row>
			
			<div class='col-md-5'> <!-- left panel -->
				<div class='page-main-subheading shift-down-2 padded-container-1'>
					<h2>How shall we add your picture?</h2>
				</div> 
				
				<div class='centered_80pc_width  shift-down-2'>
					<a href='#' id='webcam-button' class='a-button shift-down-3' >
						<span class="icon-uniE605"></span>
						Take a photo
					</a>
				</div>

				<div class='centered_80pc_width  shift-down-2'>
					<a href='#' id='bing-button' class='a-button' >
						<span class="icon-uniE60B"></span>
						Type a description
					</a>
				</div>

				<div class='centered_80pc_width shift-down-2'>
					<a href='#' id='upload-button' class='a-button shift-down-3' >
						<span class="icon-uniE60C"></span>
						From my computer
					</a>
				</div>

				<hr>

				<div class='centered_80pc_width'>
					<a href='#' id='back-to-group-button' class='a-button shift-down-3 grey-button' >
						<span class="icon-uniE618"></span>
						Go back to group page
					</a>
				</div>

			</div> <!-- end left panel -->

			<div class='col-md-7'> <!-- right panel -->

				<!-- bing pages 1 and 2 -->
				<div id='bing-rhs' class='rhs-to-disappear'>
					
					<div id='bing-page1of2'>
						<div class='page-main-subheading shift-down-2 padded-container-1'>
							<h2>Type one or more words into the box describing your desired photo:</h2>
						</div> 
							
						<div class='one_line_entry_box centered_80pc_width'>
							<input type="text" name="img-input" id='img-input' placeholder='Type here...' class='big-input centered-page'>
						</div>
						
						<div class='centered_50pc_width shift-down-3'>
							<a href='#' id='bing-search-submit' class='a-button' >Click to get pictures!</a>
						</div>
					</div> <!-- end bing page 1 of 2 -->
						
					<div id='bing-page2of2' class='shift-down-3'>
						<div class='padded-container'>
							<h2>
								Here we go! Click on an image to send it to the group.
							</h2>
						</div>
						<div id='bing-img-grid'><!-- Images will go here --></div>
					</div> <!-- end bing page 2 of 2 -->

				</div>

				<!-- webcam page -->
				<div id='webcam-rhs' class='rhs-to-disappear'>

					<!-- If safari -->
					<div class='shift-down-2 not_chrome_mozilla' style='display:none'>
						<div class='webcam-pre-permission' style='display:none'>
							<div class='filler'></div>
							<h2 >{% include 'browser_not_ok.html' %}</h2>
							<div class='filler shift-down-2'></div>
						</div>
					</div>

					<!-- If chrome -->
					<div class='shift-down-2 chrome' style='display:none'>
						<div class='webcam-pre-permission' style='display:none'>
							<div class='filler'></div>
							
								<h2>Before you can dictate, you need to give us permission to switch on your microphone.</h2>
								<br>
								<p>Towards the top of your screen there should be a message saying that we want to use your microphone. You need to press the small button saying 'Allow' that appears on the right hand side of the message. The picture below shows where you need to click with an orange arrow.<br><br></p>
								<img src='https://dl.dropboxusercontent.com/s/oa7a633203gs3sw/chrome_allow.png' class='img-responsive'/>


							<div class='filler shift-down-2'></div>
						</div> <!-- end pre permission -->
					
						<div class='webcam-permission-denied' style='display:none'>
							<div class='filler'></div>
						
							<h2>It looks like you pressed denied us access to your microphone</h2>
							<br>
							<p>If you want to change this, you can always dictate by following these instructions. There is a small red cross near the top of your screen (indicated in the top right of the image below). If you click on this, you are then given the option to continue blocking microphone access, or to once again ask if we can use your microphone. You should select the option indicating that we can ask to use your microphone. You can then press 'Done', and reload the page.<br><br></p>
							<img src='https://dl.dropboxusercontent.com/s/p9652s9em4qelk7/chrome_re-allow.png' class='img-responsive shift-up-3'/>
							<div class='filler shift-up-2'></div>
							<a href='#' class='a-button grey-button centered_50pc_width' data-dismiss="modal">Go back to group</a>
							<div class='filler shift-down-2'></div>
						</div> <!-- end permission denied -->
					</div>

					<!-- If mozilla -->
					<div class='shift-down-2 mozilla' style='display:none'>
						<div class='webcam-pre-permission' style='display:none'>
							<div class='filler'></div>
							
								<h2>Before you can dictate, you need to give us permission to switch on your microphone.</h2>
								<br>
								<p>Towards the top of your screen there should be a message saying that we want to use your microphone. You need to press the small button saying 'Allow' that appears on the right hand side of the message. The picture below shows where you need to click with an orange arrow.<br><br></p>
								<img src='https://dl.dropboxusercontent.com/s/oa7a633203gs3sw/chrome_allow.png' class='img-responsive'/>


							<div class='filler shift-down-2'></div>
						</div> <!-- end pre permission -->
					
						<div class='webcam-permission-denied' style='display:none'>
							<div class='filler'></div>
						
							<h2>It looks like you pressed denied us access to your microphone</h2>
							<br>
							<p>If you want to change this, you can always dictate by following these instructions. There is a small red cross near the top of your screen (indicated in the top right of the image below). If you click on this, you are then given the option to continue blocking microphone access, or to once again ask if we can use your microphone. You should select the option indicating that we can ask to use your microphone. You can then press 'Done', and reload the page.<br><br></p>
							<img src='https://dl.dropboxusercontent.com/s/p9652s9em4qelk7/chrome_re-allow.png' class='img-responsive shift-up-3'/>
							<div class='filler shift-up-2'></div>
							<a href='#' class='a-button grey-button centered_50pc_width' data-dismiss="modal">Go back to group</a>
							<div class='filler shift-down-2'></div>
						</div> <!-- end permission denied -->
					</div>

					<!-- if chrome or mozilla -->
					<div id='webcam-permission-granted' style='display:none'>
						<div id='pre-photo'>
							<div class='page-main-subheading shift-down-2 padded-container-1'>
								<h2>Click 'take photo' to take a photo!</h2>						
							</div>
							<video id="webcam-video" width="320" height="250" style='display:inline' autoplay></video>
							<canvas id="webcam-canvas" width="320" height="250"></canvas>
							<div class='centered_50pc_width shift-down-3'>
								<a href='#' id='webcam-take-photo-button' class='a-button' >Take photo!</a>
							</div>
							<row>
								<div class='col-xs-6' id='webcam-take-another-button' style='display:none' >
									<a href='#' class='a-button inline float-right' >Take another...</a>
								</div>
								<div class='col-xs-6' id='webcam-use-photo-button' style='display:none' >
									<a href='#' class='a-button inline float-left green-button' >Use this photo!</a>
								</div>
							</row>
						</div>
						<div id='post-photo'>
							<div id='loading-spinner' class='padded-container shift-down-3'></div>
						</div>
						
					</div> <!-- end webcam available -->
						
				</div>

				<!-- upload page -->
				<div id='upload-rhs' class='rhs-to-disappear'>
					<div class='not_chrome_mozilla mozilla' style='display:none'>
						<div class='filler shift-down-2'></div>
						<h2>
							{% include 'browser_not_ok.html' %}
						</h2>
						<div class='filler shift-down-2'></div>
					</div> <!-- end chrome unavailable -->

					<div class='chrome' style='display:none'>
						<div class='page-main-subheading shift-down-2 padded-container-1'>
							<!-- <h2>Unfotunately this functionality is not yet available. If this is something you think would be useful for you, let us know by sending some feedback!</h2> -->
							<h2 id='upload-h2-1of2'>Click the button below to get a picture from your computer</h2>
							<h2 id='upload-h2-2of2' style='display:none'>Now you can send it to the group by clicking on the green button!</h2>
							<div class='centered_80pc_width'>
	    						<a id="upload_link" class='a-button green-button' href="javascript:$('#file_upload').uploadifyUpload()" style='display:none'>Send my picture to the group</a>
	    						<img id='spinning_icon' src='http://cdnjs.cloudflare.com/ajax/libs/file-uploader/3.7.0/processing.gif' class='shift-down-3' style='display:none'>
	    					</div>
	    					<div class='filler'></div>

							<div id='file-upload-wrapper'>
								<!-- <a href='#' class='a-button centered-page' id='orange-file-upload-button' width='100px'> --><input id="file_upload" name="file_upload" type="file" width='200px'>
							</div>
							
						</div>
					</div> <!-- end chrome available --> 
				</div> <!-- end upload section -->

			</div>


		</row> <!-- end LH RH page split -->


	</div> <!-- end container -->
</div> <!-- end centred page -->

{% endblock %}
				


{% block scripts_bottom %}
	{{ super() }}
    <script src="{{url_for('static', filename = 'uploadify/swfobject.js', _external=True)}}"></script>
    <script src="{{url_for('static', filename = 'uploadify/jquery.uploadify.v2.1.4.min.js', _external=True)}}"></script>
	<script src="{{url_for('static', filename = 'js/add_image.js', _external=True)}}"></script>
	<script src="{{url_for('static', filename = 'js/webcam.js', _external=True)}}"></script>
{% endblock %}



